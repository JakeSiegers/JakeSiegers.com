function addCls(t,e){""===t.className.trim()?t.className+=e:t.className+=" "+e}function removeCls(t,e){var s=[];t.className.split(" ").forEach(function(t){t!==e&&s.push(t)}),t.className=s.join(" ")}function showTitle(){var t=document.getElementById("title"),e=document.getElementById("menu");setTimeout(function(){t.style.transition="opacity 0.5s ease",e.style.transition="opacity 0.5s ease"},0),setTimeout(function(){t.style.opacity=1,e.style.opacity=1},100),centerContent(),setTimeout(function(){document.getElementById("titleWrap").style.transition="all 0.5s ease"},0)}function initMenu(){document.getElementById("emailLink").onclick=function(t){t.preventDefault(),changeContent("email","purple")},document.getElementById("projectLink").onclick=function(t){t.preventDefault(),changeContent("portfolio","green")},document.body.addEventListener("touchstart",function(t){if(!touchMode){for(var e=document.getElementsByClassName("zoomBox"),s=0;s<e.length;s++)addCls(e[s],"zoomBoxTouch");touchMode=!0}},!1)}function showScreenshots(t,e){if(t.preventDefault(),!(screenshotCount>0)){t.target.innerHTML='<span style="color:#009688;">[ LOADING... ]</span>';var s=document.getElementById("screenshotContent"),n="<a class=\"projectBack\" onclick=\"changeContent('portfolio','green')\" >[ Back to Projects ]</a>";n+='<div class="contentSubTitle">Click or tap any screenshot to view full size</div>';for(var i=1;i<=screenshots[e];i++){n+='<a href="img/screenshots/'+e+i+'.jpg" target="_blank"><img src="img/screenshots/'+e+i+'.jpg" class="screenshot"/></a>';var o=new Image;screenshotCount++,o.onload=function(){0===--screenshotCount&&(changeContent("screenshot","green"),t.target.innerHTML="[ Screenshots ]")},o.src="img/screenshots/"+e+i+".jpg"}s.innerHTML=n}}function changeContent(t,e){screenshotCount>0||sendingEmail||inTransition||(contentType===t?(vis.setColorPalette("orange"),closeContent()):null!==contentType?(closeContent(!0),null!==contentTimeout&&clearTimeout(contentTimeout),contentTimeout=setTimeout(function(){showContent(t,e)},500)):showContent(t,e))}function closeContent(t){inTransition=!0,setTimeout(function(){inTransition=!1},500);var e=document.getElementById("content");t||centerContent(-e.offsetHeight),removeCls(e,"showContent"),e.style.height="0px",contentType=null}function showContent(t,e){inTransition=!0,setTimeout(function(){inTransition=!1},500);var s=document.getElementById("content");vis.setColorPalette(e);var n=document.getElementById(t+"Content");s.innerHTML=n.innerHTML,centerContent(n.offsetHeight),addCls(s,"showContent"),s.style.height=n.offsetHeight+"px",contentType=t}function centerContent(t){if(null!==contentType){var e=document.getElementById("content"),s=document.getElementById(contentType+"Content");e.style.height=s.offsetHeight+"px"}t||(t=0);var n=document.getElementById("titleWrap"),i=window.innerHeight,o=30,a=n.offsetHeight+t;o=a/2>i/2?20:i/2-a/2,n.style.marginTop=o+"px"}function sendMessage(t){if(!sendingEmail){for(var e=t.parentElement.getElementsByClassName("formField"),s=[],n=0;n<e.length;n++)s.push(e[n].name+"="+encodeURI(e[n].value)),removeCls(e[n],"formError");var i=new XMLHttpRequest,o=s.join("&");i.open("POST","mail.php",!0),t.style.backgroundColor="rgba(255,255,255,0.3)",t.innerHTML="Sending...",sendingEmail=!0,i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===i.readyState){sendingEmail=!1;var e={};try{if(!0===(e=JSON.parse(i.responseText)).success)t.parentElement.reset(),t.style.backgroundColor="#81C784",t.innerHTML="Message Sent, Thanks!";else for(var s in e.fields)addCls(document.getElementsByName(e.fields[s])[0],"formError"),t.innerHTML=e.error}catch(e){t.style.backgroundColor="#E57373",t.innerHTML="Unknown Error, Sorry!"}}},i.send(o)}}function Visualizer(){this.trigCount=0,this.visPos={},this.currentVisuals=[],this.lastTimeReset=Date.now(),this.animationTime=16e3,this.visColors={blue:{C900:"#0D47A1",C700:"#1976D2",C500:"#2196F3",A700:"#2962FF"},red:{C900:"#B71C1C",C700:"#D32F2F",C500:"#F44336",A700:"#D50000"},brown:{C900:"#3E2723",C700:"#5D4037",C500:"#795548",A700:"#A1887F"},green:{C900:"#004D40",C700:"#00796B",C500:"#009688",A700:"#00BFA5"},orange:{C900:"#BF360C",C700:"#E64A19",C500:"#FF5722",A700:"#DD2C00"},purple:{C900:"#4A148C",C700:"#7B1FA2",C500:"#9C27B0",A700:"#AA00FF"}},this.currentColorPalette=this.visColors.orange,this.visuals={0:function(){this.setColor("C500");for(var t=5;t<=10;t++)this.drawCircle(this.visPos.x,this.visPos.y,t,2,1,1)}.bind(this),1:function(){this.setColor("C900"),this.drawCircle(this.visPos.x,this.visPos.y,6+3*Math.sin(this.trigCount),3,-2,-2),this.setColor("C500"),this.drawCircle(this.visPos.x,this.visPos.y,6+3*Math.sin(this.trigCount),3,2,2)}.bind(this),2:function(){this.setColor("C700"),this.drawCircle(this.visPos.x,this.visPos.y,10+5*Math.cos(this.trigCount),30)}.bind(this),3:function(){this.setColor("C500"),this.drawCircle(this.visPos.x,this.visPos.y,5,30,1),this.setColor("C900"),this.drawCircle(this.visPos.x,this.visPos.y,5,2,1,1)}.bind(this),4:function(){this.setColor("C700"),this.drawCircle(this.visPos.x,this.visPos.y,2,2,1,1),this.setColor("C900"),this.drawCircle(this.visPos.x,this.visPos.y,5,3,1,1),this.setColor("C500"),this.drawCircle(this.visPos.x,this.visPos.y,10,5,1,1)}.bind(this),5:function(){this.setColor("A700"),this.drawCircle(this.visPos.x,this.visPos.y,5,3,-1,1)}.bind(this),6:function(){for(var t=0;t<this.canvas.width;t++)t%2==0&&(this.setColor("C700"),this.drawRect(t,this.canvas.height/2+Math.sin(this.trigCount*(t+1))*(this.canvas.height/4)))}.bind(this),7:function(){for(var t=0;t<this.canvas.width;t++)t%2!=0&&(this.setColor("C500"),this.drawRect(t,this.canvas.height/2+Math.sin(this.trigCount*(t+1))*(this.canvas.height/4)))}.bind(this),8:function(){this.setColor("A700");for(var t=-2;t<=2;t++){var e=288*Math.sin(this.trigCount)+288;e+=t,this.drawRect(e%32,Math.floor(e/32))}}.bind(this)},this.numVisuals=Object.keys(this.visuals).length,this.canvas=document.querySelector("#visualizer"),this.canvasCtx=this.canvas.getContext("2d"),this.canvasCtx.fillStyle="rgb(51,51,51)",this.canvasCtx.fillRect(0,0,this.canvas.width,this.canvas.height),this.visPos.x=this.canvas.width/2,this.visPos.y=this.canvas.height/2,requestAnimationFrame(this.draw.bind(this)),this.changeVisual()}var touchMode=!1,screenshots={mg:5,mgvis:3,alex:4,bbqk:3,puzzle:3,node:3},screenshotCount=0,contentType=null,contentTimeout=null,inTransition=!1,sendingEmail=!1,vis=null;window.onload=function(){showTitle(),vis=new Visualizer,initMenu(),window.onresize=function(){centerContent()}},Visualizer.prototype.setColorPalette=function(t){this.currentColorPalette=this.visColors[t]},Visualizer.prototype.setColor=function(t){this.canvasCtx.fillStyle=this.currentColorPalette[t]},Visualizer.prototype.changeVisual=function(){this.currentVisuals[0]=Math.floor(Math.random()*this.numVisuals),this.currentVisuals[1]=Math.floor(Math.random()*this.numVisuals)},Visualizer.prototype.draw=function(){this.canvasCtx.drawImage(this.canvasCtx.canvas,0,0,this.canvas.width,this.canvas.height,-1,-1,this.canvas.width+2,this.canvas.height+2),this.canvasCtx.fillStyle="rgba(51,51,51,0.01)",this.canvasCtx.fillRect(0,0,this.canvas.width,this.canvas.height);var t=(Date.now()-this.lastTimeReset)/this.animationTime;t>=1&&(t=1,this.lastTimeReset=Date.now(),this.changeVisual()),this.trigCount=t*(2*Math.PI);for(var e in this.currentVisuals)this.visuals[this.currentVisuals[e]]();requestAnimationFrame(this.draw.bind(this))},Visualizer.prototype.drawCircle=function(t,e,s,n,i,o){for(var a=0;a<2*Math.PI;a+=2*Math.PI/n)this.drawRect(t+Math.cos((i?this.trigCount*i:0)+a)*s,e+Math.sin((o?this.trigCount*o:0)+a)*s)},Visualizer.prototype.drawRect=function(t,e){this.canvasCtx.fillRect(t,e,1,1)};